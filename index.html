<html lang="fr" onchange="setLang()">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title translate="page_title"></title>
    <link rel="icon" type="image/x-icon" href="images/Icon.png">

    <!-- PLUGIN IMPORTS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- LOCAL SCRIPTS IMPORTS -->
    <script type="text/javascript" src="MainPage.js"></script>
    <script type="text/javascript" src="Interaction.js"></script>
    <script type="text/javascript" src="Adaptation.js"></script>
    <script type="text/javascript" src="Game.js"></script>
    <script type="text/javascript" src="localization/languages.js"></script>
    <link rel="stylesheet" href="styling/style.css">
</head>

<body>
    <!-- tabs for each page -->
    <nav id="menu_btn_navbar" class="navbar navbar-dark">
        <button id="menu_btn" class="btn btn-primary" onclick="slideMenu()">
            <span class="navbar-toggler-icon"></span>
        </button>
        <button id="back_home" class="btn btn-primary invisible" translate="back"
            onclick="showTab('home_page', null)"></button>
        <img id="logo" src="images/Terra Numerica.png" alt="Logo">
        <button id="lang_switch" class="btn btn-primary" translate="lang_switch" onclick="switchLang()"></button>
    </nav>
    <div id="navbarTabs">
        <a href="javascript:void(0)" class="close_btn" onclick="closeMenu()">&times;</a>
        <ul class="flex-column pl-0">
            <button class="nav-tab" translate="rules_game" onclick="showTab('rules_game', this)"></button>
            <button class="nav-tab" translate="rein_learning" onclick="showTab('rein_learning', this)"></button>
            <button class="nav-tab" translate="probabilities" onclick="showTab('probabilities', this)"></button>
            <button class="nav-tab" translate="goal" onclick="showTab('goal', this)"></button>
            <button class="nav-tab" translate="param_tuto" onclick="showTab('param_tuto', this)"></button>
        </ul>
    </div>
    <div id="home_page">
        <h1 translate="welcome_msg"></h1>
        <h3 translate="welcome_desc" class="text-center w-75 m-auto"></h3>
        <div style="text-align: center;">
            <img src="images/Robot logo.png" width="150px" height="150px" style="border: solid 7px;
            border-radius: 50%;">
        </div>
        <div id="home_btn_grp" class="d-flex">
            <button class="btn btn-primary p-3" translate="HvM" onclick="showTab('interacting', null)"></button>
            <button class="btn btn-primary p-3" translate="MvM" onclick="showTab('adaptation', null)"></button>
        </div>
    </div>

    <div id="rules_game" class="tab text-center d-none">
        <h1 translate="rules_game"></h1>
        <h5 translate="rules_video"></h5>
        <iframe width="560" height="315" src="https://www.youtube.com/embed/10CUpulWxww?mute=1" 
        title="YouTube video player" frameborder="0"
        allowfullscreen class="my-2"></iframe>
        <p translate="rules_gist"></p>
        <p translate="rules_custom"></p>
        <h2 translate="rules_illustr_title"></h2>
        <p translate="rules_illust_statement"></p>
        <div class="table-responsive">
            <table class="table">
                <thead class="thead-dark">
                    <tr>
                        <th translate="rules_illustr_0"></th>
                        <th translate="rules_illustr_1"></th>
                        <th translate="rules_illustr_2"></th>
                        <th translate="rules_illustr_3"></th>
                        <th translate="rules_illustr_4"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>
                            <img src="images/allu.png">
                            <img src="images/allu.png">
                            <img src="images/allu.png">
                            <img src="images/allu.png">
                            <img src="images/allu.png">
                        </th>
                        <th>
                            <img src="images/allu.png">
                            <img src="images/allu.png">
                            <img src="images/allu.png">
                            <img src="images/allu.png">
                        </th>
                        <th>
                            <img src="images/allu.png">
                            <img src="images/allu.png">
                        </th>
                        <th>
                            <img src="images/allu.png">
                        </th>
                        <th></th>
                    </tr>
                </tbody>
            </table>
        </div>
        <p translate="rules_illust_over"></p>
    </div>

    <div id="rein_learning" class="tab text-center d-none">
        <h1 translate="rein_learning"></h1>
        <h2 translate="rein_field"></h2>
        <p translate="rein_field_gist"></p>
        <h2 translate="rein_tools"></h2>
        <p translate="rein_tools_gist"></p>
        <h2 translate="rein_examples"></h2>
        <ul class="list-group-flush" translate="rein_examples_gist"></ul>
        <h2 translate="rein_agent"></h2>
        <p translate="rein_agent_gist"></p>
        <h2 translate="rein_opti"></h2>
        <p translate="rein_opti_gist"></p>
    </div>

    <div id="probabilities" class="tab text-center d-none">
        <h1 translate="probabilities"></h1>
        <div class="table-responsive m-auto">
            <table class="table text-center">
                <tr>
                    <th class="probs_steps" translate="probs_initial"></th>
                    <th class="probs_steps">
                        <img src="images/Example initial .png">
                    </th>
                </tr>
                <tr>
                    <th class="probs_steps" translate="probs_win"></th>
                    <th class="probs_steps">
                        <img src="images/Example won.png">
                    </th>
                </tr>
                <tr>
                    <th class="probs_steps" translate="probs_lost"></th>
                    <th class="probs_steps">
                        <img src="images/Example loss.png">
                    </th>
                </tr>
            </table>
        </div>
    </div>

    <div id="goal" class="tab text-center d-none">
        <div id="goal_layout" class="d-flex flex-column justify-content-center">
            <h1 translate="goal"></h1>
            <h3 translate="goal_premise"></h3>
            <div id="bubbles_speech">
                <div id="left_top">
                    <p class="h5" translate="goal_gist"></p>
                </div>
                <img src="images/Robot.svg" width="200px" height="200px" id="robot">
                <div id="right_top">
                    <p class="h5" translate="goal_about_matches"></p>
                </div>
                <div id="left_bot">
                    <div class="h5">
                        <p translate="goal_desc"></p>
                        <p translate="goal_concl"></p>
                    </div>
                </div>
                <div id="right_bot">
                    <div class="w-100 h-100" style="background-image: url('images/Final\ state.png');
                    background-size: contain; background-repeat: no-repeat;"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="interacting" class="tab text-center d-none">
        <h1 translate="interacting"></h1>
        <h5 translate="interacting_gist"></h5>
        <p translate="interacting_start" class="font-italic"></p>

        <div>
            <p id="int_matches_left" translate="interacting_matches_left"></p>
            <span id="NMATCHES_left" class="int_dyn_data"></span>
        </div>

        <div>
            <p id="int_last_move"></p>
            <span id="NMATCHES_taken" class="int_dyn_data"></span>
        </div>

        <p id="int_end_report" class="font-weight-bold"></p>

        <div>
            <p id="int_basket_state" translate="interacting_basket_state"></p>
            <span id="YBALLS" class="int_dyn_data"></span>
            <span id="RBALLS" class="int_dyn_data"></span>
        </div>

        <div class="btn-group-vertical align-items-center">
            <button class="btn btn-warning int_btn" translate="interacting_take_1" onclick="interact(1)"></button>
            <button class="btn btn-danger int_btn" translate="interacting_take_2" onclick="interact(2)"></button>
            <button class="btn btn-primary int_btn" translate="interacting_restart" onclick="interact(3)"></button>
            <button class="btn btn-primary int_btn" translate="interacting_reinitialize" onclick="interact(4)"></button>
        </div>
    </div>

    <div id="param_tuto" class="tab text-center d-none">
        <h1 translate="param_tuto"></h1>
        <div class="card-group" style="margin-inline: 0;">
            <div class="card" style="min-width: 90vw; margin-inline: 0;">
                <img class="card-img-top" id="param_baskets_main_pic" src="images/Basket with balls example.png"
                    alt="Explanation about the number of baskets and balls">
                <div class="card-body" style="margin-left: 13em; align-self: flex-end; min-height: 300px;">
                    <h5 translate="param_desc_title"></h5>
                    <p class="card-text" translate="param_desc_1"></p>
                    <p class="card-text" translate="param_desc_2"></p>
                </div>
                <div class="card-footer table-responsive">
                    <table class="table" style="table-layout: fixed;">
                        <thead class="thead-dark">
                            <tr>
                                <th translate="param_desc_elements" scope="col" style="width: 11.5em;"></th>
                                <th translate="param_desc_3" scope="col"></th>
                                <th translate="param_desc_elements" scope="col" style="width: 11.5em;"></th>
                                <th translate="param_desc_3" scope="col"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <img src="images/new_basket.png" width="150px" class="img-fluid img-thumbnail">
                                </td>
                                <th translate="param_desc_4"></th>
                                <td>
                                    <img src="images/Basket focus 1.png" width="150px" class="img-fluid img-thumbnail">
                                </td>
                                <th translate="param_desc_6"></th>
                            </tr>
                            <tr>
                                <td>
                                    <img src="images/Basket focus 3.png" width="150px" class="img-fluid img-thumbnail">
                                </td>
                                <th translate="param_desc_5"></th>
                                <td>
                                    <img src="images/Basket focus 2.png" width="150px" class="img-fluid img-thumbnail">
                                </td>
                                <th translate="param_desc_7"></th>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card">
                <img class="card-img-top" src="images/Possible moves.png"
                    alt="Explanation about the number of moves possible">
                <div class="card-body">
                    <h5 translate="param_moves_title"></h5>
                    <p class="card-text" translate="param_moves"></p>
                </div>
            </div>
            <div class="card">
                <img class="card-img-top" src="images/Opponent.png"
                    alt="Explanation about the types of opponents possible">
                <div class="card-body">
                    <h5 translate="param_opponents_title"></h5>
                    <p class="card-text" translate="param_opponents"></p>
                </div>
            </div>
            <div class="card">
                <img class="card-img-top" src="images/Reward and penalty.png"
                    alt="Explanation about the reward and penalty">
                <div class="card-body">
                    <h5 translate="param_learning_title"></h5>
                    <p class="card-text" translate="param_learning"></p>
                </div>
            </div>
            <div class="card">
                <img class="card-img-top" src="images/Speed.png" alt="Explanation about the speed that can be chosen">
                <div class="card-body">
                    <h5 translate="param_speed_title"></h5>
                    <p class="card-text" translate="param_speed"></p>
                </div>
            </div>
            <div class="card">
                <img class="card-img-top" src="images/Rules bending.png">
                <div class="card-body">
                    <h5 translate="param_rules_bending_title"></h5>
                    <p class="card-text" translate="param_rules_bending"></p>
                </div>
            </div>
            <div class="card">
                <img class="card-img-top" src="images/RL specs.png" alt="Explanation about who starts">
                <div class="card-body">
                    <h5 translate="param_RL_spec_title"></h5>
                    <p class="card-text" translate="param_RL_spec"></p>
                </div>
            </div>
        </div>
    </div>

    <div id="adaptation" class="tab d-none">
        <div id="adapt_game_status">
            <legend for="adapt_game_status" translate="adaptation_game_status"></legend>
            <div id="adapt_history"></div>
        </div>

        <div id="adapt_nonstop_speed" class="d-none">
            <legend for="adapt_nonstop_speed" translate="adaptation_speed_interval"></legend>
            <div class="form-group d-flex flex-column h-100" id="adapt_speed_interval">
                <label for="adapt_speed" class="col-form-label text-center w-100">x0.55</label>
                <input type="range" id="adapt_speed_interval_range" class="form-control-range" min="0.1" max="1"
                    value="0.55" step="0.01" oninput="changeIntervalValue(this, value)">
            </div>
        </div>

        <div id="adapt_visualization">
            <legend for="adapt_visualization" translate="adaptation_vizualisation"></legend>
        </div>

        <div id="adapt_score">
            <legend for="adapt_score" translate="adaptation_score"></legend>
            <div class="d-flex row justify-content-between">
                <div>
                    <span translate="adaptation_victories"></span>
                    <span id="adapt_victories">0</span>
                </div>
                <div>
                    <span translate="adaptation_counter_games"></span>
                    <span id="adapt_counter_games">0</span>
                </div>
                <div>
                    <span translate="adaptation_defeats"></span>
                    <span id="adapt_defeats">0</span>
                </div>
            </div>
            <div class="progress">
                <div class="progress-bar bg-success" role="progressbar" style="width: 50%" aria-valuenow="50"
                    aria-valuemin="0" aria-valuemax="100">0%</div>
                <div class="progress-bar bg-danger" role="progressbar" style="width: 50%" aria-valuenow="50"
                    aria-valuemin="0" aria-valuemax="100">0%</div>
            </div>
        </div>

        <form id="adapt_param">
            <div id="params_header" class="d-flex">
                <legend for="adapt_param" translate="adaptation_parameters"></legend>
                <a style="font-size: xx-large;" data-toggle="collapse" data-toggle="collapse" href="#params_to_collapse"
                    role="button" aria-expanded="false" aria-controls="params_to_collapse">&#8942;</a>
            </div>
            <div id="params_to_collapse" class="collapse show">
                <fieldset class="form-group row align-items-center">
                    <label for="pick_nb_of_moves_possible" class="col-sm-5 col-form-label"
                        translate="adaptation_possible_moves"></label>
                    <div class="col-sm align-self-end" id="pick_nb_of_moves_possible">
                        <div class="form-check form-check-inline">
                            <input type="checkbox" id="one_move" class="form-control" name="nb_moves" value="1" checked>
                            <label for="1">1</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input type="checkbox" id="two_move" class="form-control" name="nb_moves" value="2" checked>
                            <label for="2">2</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input type="checkbox" id="three_move" class="form-control" name="nb_moves" value="3">
                            <label for="3">3</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input type="checkbox" id="four_move" class="form-control" name="nb_moves" value="4">
                            <label for="4">4</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input type="checkbox" id="five_move" class="form-control" name="nb_moves" value="5">
                            <label for="5">5</label>
                        </div>
                    </div>
                </fieldset>
                <div class="form-group">
                    <label for="pick_baskets_nb" translate="adaptation_nb_baskets"></label>
                    <span>&nbsp;8</span>
                    <input type="range" id="pick_baskets_nb" class="custom-range form-control" min="8" max="16" step="1"
                        value="8" data-toggle="tooltip" data-placement="left" oninput="updateTooltipValue(this)">
                </div>
                <div class="form-group">
                    <label for="balls_per_color" translate="adaptation_balls_color"></label>
                    <span>&nbsp;6</span>
                    <input type="range" id="balls_per_color" class="custom-range form-control" min="2" max="10" step="1"
                        value="6" data-toggle="tooltip" data-placement="left" oninput="updateTooltipValue(this)">
                </div>
                <div class="form-group">
                    <label for="pick_reward" translate="adaptation_reward"></label>
                    <input type="number" id="pick_reward" class="form-control" placeholder=3 value=3 min=0>
                </div>
                <div class="form-group">
                    <label for="pick_penalty" translate="adaptation_penalty"></label>
                    <input type="number" id="pick_penalty" class="form-control" placeholder=-1 value=-1 max=0>
                </div>
                <div class="form-group">
                    <label for="pick_speed" translate="adaptation_speed"></label>
                    <select class="form-control" id="pick_speed">
                        <option translate="adaptation_one_move" value="0"></option>
                        <option translate="adaptation_one_game" value="1"></option>
                        <option translate="adaptation_non_stop" value="2"></option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="pick_opponent" translate="adaptation_select_opp"></label>
                    <select class="form-control" id="pick_opponent">
                        <option translate="adaptation_random" value="HAZARD"></option>
                        <option translate="adaptation_machine" value="MACHINE"></option>
                        <option translate="adaptation_expert" value="EXPERT"></option>
                    </select>
                </div>
                <fieldset class="form-group row align-items-center">
                    <label class="col-sm-5 col-form-label" translate="adaptation_who_starts"></label>
                    <div id="picks_who_starts" class="col-sm align-self-end">
                        <div class="form-check form-check-inline">
                            <input type="radio" id="machine_starts" class="form-control" name="picks_who_starts"
                                value="true" checked>
                            <label for="1" translate="adaptation_machine_starts"></label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input type="radio" id="opponent_starts" class="form-control" name="picks_who_starts"
                                value="false">
                            <label for="2" translate="adaptation_opponent_starts"></label>
                        </div>
                    </div>
                </fieldset>
                <fieldset class="form-group row align-items-center">
                    <label class="col col-form-label" translate="adaptation_winning_condition"></label>
                    <div id="winning_condition" class="col-sm align-self-end">
                        <div class="form-check form-check-inline">
                            <input type="radio" id="winning_is_finishing" class="form-control" name="winning_condition"
                                value="true">
                            <label for="1" translate="adaptation_yes"></label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input type="radio" id="winning_is_keeping" class="form-control" name="winning_condition"
                                value="false" checked>
                            <label for="2" translate="adaptation_no"></label>
                        </div>
                    </div>
                </fieldset>
                <fieldset class="form-group row align-items-center">
                    <label class="col col-form-label" translate="adaptation_if_winner_starts"></label>
                    <div id="picks_if_winner_starts" class="col-sm align-self-end">
                        <div class="form-check form-check-inline">
                            <input type="radio" id="winner_starts" class="form-control" name="picks_if_winner_starts"
                                value="true" checked>
                            <label for="1" translate="adaptation_yes"></label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input type="radio" id="loser_starts" class="form-control" name="picks_if_winner_starts"
                                value="false">
                            <label for="2" translate="adaptation_no"></label>
                        </div>
                    </div>
                </fieldset>
                <fieldset class="form-group row align-items-center">
                    <label class="col col-form-label" translate="adaptation_train_losses_too"></label>
                    <div id="train_losses_too" class="col-sm align-self-end">
                        <div class="form-check form-check-inline">
                            <input type="radio" id="wins_losses_trained" class="form-control" name="train_losses_too"
                                value="true">
                            <label for="1" translate="adaptation_yes"></label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input type="radio" id="wins_trained" class="form-control" name="train_losses_too"
                                value="false" checked>
                            <label for="2" translate="adaptation_no"></label>
                        </div>
                    </div>
                </fieldset>
                
            </div>
            <button type="button" id="adapt_new_game" class="btn btn-success" onclick="startGame()"
                translate="adaptation_new_game"></button>
            <button type="button" class="btn btn-primary d-none" onclick="continueGame()"
                translate="adaptation_continue" id="adapt_continue"></button>
            <button type="button" id="adapt_pause" class="btn btn-warning d-none" onclick="pauseGame()"
                translate="adaptation_pause"></button>
        </form>
    </div>

    <!-- BOOTSTRAP IMPORTS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

</html>